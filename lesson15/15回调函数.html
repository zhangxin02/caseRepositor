<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>回调函数</title>
</head>
<body>

</body>
<script>
    //    var show= function(result){
    //        alert(result);
    //    }

    function ajax(json) {
        var req = new XMLHttpRequest();
        req.open(json.type, json.url, true);
        req.send();
        req.onreadystatechange = function () {  //监听状态的改变

            if (req.readyState == 4 && req.status == 200) {
//                alert("aaaa")
                json.show(req.responseText);
            }
        }
    }

    var para = {
        "type": "get", "url": "userinfo.json", "show": function (result) {
            var json = JSON.parse(result);
            alert(json.name)
        }
    }

    ajax({
        type: "get",
        url: "userinfo.json",
        show: function (result) {
            var json = JSON.parse(result);
            alert(json.name)
        }
    });


</script>
</html>