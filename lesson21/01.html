<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<button id="btn">测试</button>
<button id="btn1">测试</button>
<button id="btn2">测试</button>
</body>
<script>
    //    var num = 12;
    //    function test1() {
    //        alert(num);
    //    }
    //    test1();
    //函数内部可以使用全局变量

    //    var test2 = function () {
    //        var n = 100;
    //    }
    //    test2();
    //    alert(n);
    //函数内部的变量 在函数外部不能访问
    //    var  n;
    //    function test3() {
    //        n = 99;
    //    }
    //    test3();
    //    alert(n);
    //  函数内部如果一个变量名 前面没有用var来声明  表示该标量是全局变量


    //    function test8() {
    //       var a = 10;
    //        alert(a)
    //    }
    //    var a = 100;
    //    test8();
    //    alert(a);


    //    var num = 10;
    ////    alert(num);
    //    function test(num) {
    //         num = num+100;
    //        alert(num);
    //    }
    //    test(999);
    //    alert(num);
    // 形式参数  属于函数本身  类似于局部变量

    //    function add(a, a, b) {
    //        var a = 3, a = 4, b = 5;
    ////         a = 3;
    //        a = 4;
    //        a = 7;
    ////         b = 5;
    //        return a + a + b;
    //    }
    //    alert(add(3, 4, 5));
    //函数 的参数  类似声明了 局部变量

    /*
     function test4() {
     var n = 99;

     function testA() {
     var m = n + 1;
     n++;
     alert(n + m);
     }

     testA();
     }
     test4();
     test4();
     test4();
     */
    //    var a = test4();
    //    a();
    //    a();
    //    a();

    //    function test4() {
    //        var n = 99;
    //
    //        function testA() {
    //            var m = n + 1;
    //            n++;
    //            alert(n + m);
    //        }
    //
    //        return testA;
    //    }
    //    var a = test4();  //a 是一个函数
    //    a(); //200
    //    a();//202
    //    a();// 204
    //闭包
    //    function test5() {
    //        var n = 999;
    //        function testA() {
    //            n += 1
    //            return n;
    //        }
    //        return testA;
    //    }
    //    var result = test5();//
    //    alert(result());//1000
    //    alert(result());//1001

    //    var arr = new Array()
    //    for (var i = 0; i < 5; i++) {
    //        function xxx(num) {
    //            return function () { //函数返回的值 可以是任意类型 任意类型就包含函数
    //                alert(num);
    //            }
    //        }
    //        arr[i] = xxx(i);  //集合中可以放任意类型  任意类型也包含函数
    //    }
    //    arr[0]();//函数的执行带()

    //    (function () {
    //        for (var i = 0; i < 5; i++) {
    //            for (var i = 0; i < 5; i++) {
    //            } //当这个循环结束的时候 i是 5   然后回到主循环中   i在++  所以最后id变成了6
    //        }
    //         i  = null;//手动释放
    //    })();
    //    alert(i);
    //   变量放入作用域  当做局部变量  用完之后 手工释放

    //            for (var i = 0; i < 5; i++) {
    //                console.log("a");
    //                for (var i = 0; i < 5; i++) {
    //                    console.log("b");
    //                } //当这个循环结束的时候 i是 5   然后回到主循环中   i在++  所以最后id变成了6
    //            }

    //    for (var i = 0; i < 5; i++) {
    //        console.log("a");
    //        (function () {
    //            for (var i = 0; i < 5; i++) {
    //                console.log("b");
    //            }
    //        })();
    //    }
    //匿名函数自运行 变量的作用域


    //    var chang = null;
    //    function test6() {
    //        var n = 999;
    //        chang = function () {
    //            n += 1;
    //            alert("全局方法改变后:" + n);
    //        }
    //        alert(n);
    //    }
    //    test6();//999
    //    chang();//1000
    //    test6();//999
    //    chang();//1000
    //全局函数

    //    function test7() {
    //        var n = 9999;
    //        chang = function () {
    //            n++;
    //            alert("外部调用的全局方法改变值为:" + n);
    //        }
    //        var callChange = function () {
    //            n++;
    //            alert("我来获取大方法中的变量值:" + n);
    //        }
    //        alert("方法声明的时候触发:" + n);
    //        return callChange;
    //    }
    //    var result = test7();//9999
    //    result();//10000
    //    chang();//10001
    //    result();//10002
    //    chang();//10003
    //全局函数和局部函数 造成的闭包

    //            function a() {
    //                var num = 1;
    //                return function () {
    //                    return num++;  //++num
    //                }
    //            }
    //            //闭包，可以访问函数内部的局部变量，并让其长期驻留内存
    //            var fun = a();
    //            alert(fun());
    //            alert(fun());
    //   闭包 和 i++ 以及 ++i;

    //    window.onload = function () {
    //        var btns = document.getElementsByTagName("button");
    //        for (var i = 0; i < btns.length; i++) {
    //            //做一个匿名函数，并自运行，将i的值传递进去，保存为局部变量+
    ////            btns[i].a = (function (num) {
    ////                return num;
    ////            })(i);
    ////            btns[i].index = i;
    ////            btns[i].onclick = function () {
    ////                alert(this.index);
    ////            }
    //            btns[i].onclick = function(){
    //                alert(i);
    //            }
    //        }
    //    }

    //    function test9(x) {
    //        var g = function () {
    //            return "接收外部参数:" + x;
    //        }
    //        return g;
    //    }
    //    var test = test9(1000);
    //    alert(test());//1000


    //    function add(x, y) {
    //        alert(x + y);
    //    }
    //    function delay(x, y, time) {
    //        setTimeout(function () {
    //            add(x, y);
    //        }, time)
    //    }
    //    delay(2, 3, 1000);

    //    var oEvent = {};
    //    (function () {
    //        var num = 1;
    //        oEvent.addEvent = function () {
    //            alert("我是添加事件:" + (++num));
    //        };
    //        oEvent.removeEvent = function () {
    //            alert("我是移除事件:" + num);
    //        }
    //    })();
    //    oEvent.addEvent();
    //    oEvent.removeEvent();
    //    alert(num);
    //    var oEvent = {};
    //    var keep = function () {
    //        var addEvent = function () {
    //            alert("a");
    //        }
    //        var removeEvent = function () {
    //            alert("b");
    //        }
    //        oEvent.addEvent = addEvent;
    //        oEvent.removeEvent = removeEvent;
    //    }
    //    keep();
    //    oEvent.addEvent();
    //    oEvent.removeEvent();


    //第十二题  巩固匿名和闭包
//    var test = null;
//    (function () {
//        var one = 1;
//        function inner() {
//            one += 1;
//            alert(one)
//        }
//        test = inner;
//    })();
//    test();//2
//    test();//3
//    test();//4
</script>
</html>